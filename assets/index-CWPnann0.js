(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();const W={standard:["@","#","S","%","?","*","+",";",":",",","."],simple:["@","#","+","."],complex:["$","@","B","%","8","&","W","M","#","*","o","a","h","k","b","d","p","q","w","m","Z","O","0","Q","L","C","J","U","Y","X","z","c","v","u","n","x","r","j","f","t","/","\\","|","(",")","1","{","}","[","]","?","-","_","+","~","<",">","i","!","l","I",";",":",",",'"',"^","`","'","."]};function T(t,n,s,c){const o=W[c];let i="";const r=t.width/n,L=t.height/s;for(let a=0;a<s;a++){for(let d=0;d<n;d++){const k=Math.floor(d*r),u=(Math.floor(a*L)*t.width+k)*4,z=t.data[u],F=t.data[u+1],M=t.data[u+2],H=(z+F+M)/3,A=Math.floor(H/255*(o.length-1));i+=o[A]}i+=`
`}return i}let I="standard",w=!0;const e={video:document.getElementById("webcam"),asciiOutput:document.getElementById("asciiOutput"),asciiContainer:document.getElementById("asciiContainer"),captureButton:document.getElementById("captureButton"),charSetSelect:document.getElementById("charSet"),colorSchemeSelect:document.getElementById("colorScheme"),textColorInput:document.getElementById("textColor"),bgColorInput:document.getElementById("bgColor"),fontSizeInput:document.getElementById("fontSize"),fontSizeValue:document.getElementById("fontSizeValue"),asciiToggle:document.getElementById("asciiToggle"),sidebar:document.getElementById("sidebar"),toggleSidebarButton:document.getElementById("toggleSidebar")};async function $(){try{const t=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480}});e.video.srcObject=t,e.video.play(),e.video.onloadedmetadata=()=>{requestAnimationFrame(C)}}catch(t){console.error("Error accessing the webcam:",t)}}function C(){const t=document.createElement("canvas"),n=t.getContext("2d");if(n){if(t.width=e.video.videoWidth,t.height=e.video.videoHeight,n.drawImage(e.video,0,0,t.width,t.height),w){const s=n.getImageData(0,0,t.width,t.height),c=T(s,100,50,I);e.asciiOutput.textContent=c,g(),e.asciiOutput.style.display="block",e.video.style.display="none"}else e.asciiOutput.style.display="none",e.video.style.display="block";requestAnimationFrame(C)}}function g(){const t=e.asciiContainer.clientWidth,n=e.asciiContainer.clientHeight,s=e.asciiOutput.clientWidth,c=e.asciiOutput.clientHeight,o=t/s,i=n/c,r=Math.min(o,i);e.asciiOutput.style.transform=`scale(${r})`,e.asciiOutput.style.transformOrigin="top left"}function j(){const t=e.asciiOutput.textContent,n=new Blob([t??""],{type:"text/plain"}),s=URL.createObjectURL(n),c=document.createElement("a");c.href=s,c.download="ascii_capture.txt",c.click(),URL.revokeObjectURL(s)}function U(){I=e.charSetSelect.value}function x(){switch(e.colorSchemeSelect.value){case"greenOnBlack":e.textColorInput.value="#00FF00",e.bgColorInput.value="#000000";break;case"whiteOnBlack":e.textColorInput.value="#FFFFFF",e.bgColorInput.value="#000000";break;case"blackOnWhite":e.textColorInput.value="#000000",e.bgColorInput.value="#FFFFFF";break}E()}function E(){e.asciiOutput.style.color=e.textColorInput.value,e.asciiOutput.style.backgroundColor=e.bgColorInput.value}function B(){const n=window.innerWidth<640?"6":"11";e.fontSizeInput&&e.fontSizeValue&&e.asciiOutput&&(e.fontSizeInput.value=n,e.fontSizeValue.textContent=`${n}px`,e.asciiOutput.style.fontSize=`${n}px`,e.asciiOutput.style.lineHeight=`${n}px`)}function V(){const t=e.fontSizeInput.value;e.asciiOutput&&e.fontSizeValue&&(e.asciiOutput.style.fontSize=`${t}px`,e.asciiOutput.style.lineHeight=`${t}px`,e.fontSizeValue.textContent=`${t}px`),g()}function R(){w=e.asciiToggle.checked}function O(){e.colorSchemeSelect.value="custom",E()}const l=document.getElementById("overlay");function q(){const t=document.getElementById("sidebar"),n=document.getElementById("toggleSidebar");t&&l&&(t.classList.toggle("-translate-x-full"),l.classList.toggle("hidden"),n&&(t.classList.contains("-translate-x-full")?n.innerHTML=`
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
          </svg>
        `:n.innerHTML=`
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        `))}function P(){const t=document.getElementById("sidebar");t&&l&&(t.classList.add("-translate-x-full"),l.classList.add("hidden"),e.toggleSidebarButton&&(e.toggleSidebarButton.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
        </svg>
      `))}$();var p;(p=e.captureButton)==null||p.addEventListener("click",j);var h;(h=e.charSetSelect)==null||h.addEventListener("change",U);var m;(m=e.colorSchemeSelect)==null||m.addEventListener("change",x);var f;(f=e.textColorInput)==null||f.addEventListener("input",O);var v;(v=e.bgColorInput)==null||v.addEventListener("input",O);var S;(S=e.fontSizeInput)==null||S.addEventListener("input",V);var y;(y=e.asciiToggle)==null||y.addEventListener("change",R);var b;(b=e.toggleSidebarButton)==null||b.addEventListener("click",q);l==null||l.addEventListener("click",P);x();B();window.addEventListener("resize",()=>{const t=document.getElementById("sidebar");window.innerWidth>=640&&t&&l&&(t.classList.remove("-translate-x-full"),l.classList.add("hidden")),B(),g()});
